{% load static %}
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <title>{{Title}}</title>
  <script src="{% static 'map_data/mapdata.js' %}"></script>
  <script src="{% static 'map_data/statemap.js' %}"></script>
  <style>
    .slider {
  -webkit-appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 5px;   
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
  orientation: vertical
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%; 
  background: #0a6386;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #0a6386;
  cursor: pointer;
}
  </style>
</head>
<body scroll="no" style="overflow: hidden">
<div style="background-color: #e3f2fd;">
  <h1 class="text-center">Predictive Map of COVID-19 Cases in NJ Using an Adaptive SIR Model</h1>
</div>
<div class="container">
  <div class="row justify-content-center">
    <div class="column col-6">
      <div id="map" class="ml-3"></div>
    </div>

    <div class="column col-6">
      <div class="row">
        <div class="column col-12 justify-content-center">
          <div class="slidercontainer">
            <input type="range" orient="vertical" min="0" max="180" value="0" class="slider" id="myRange">
          </div>
        </div>
        <div class="column col-12 justify-content-center">
          <h3 id="date" class="text-center">3/24/2020</h3>
        </div>
      </div>
      <div id="math_description">
      </div>
    </div>
  </div>
</div>
<div class="app">

</div>
</body>
<script src="{% static 'frontend/main.js' %}"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script>
  var slider = document.getElementById("myRange");
  var slider_output = document.getElementById("date");
  var the_date = new Date("3/24/2020"); 

  var populations={{Populations}};
  var cases={{Cases}};
  var deaths={{Deaths}};

  var county_codes=new Array(populations.length);
  var i=0;
  for (const property in simplemaps_statemap_mapdata.state_specific) {
    county_codes[i]=property;
    i++;
  }

  console.log(county_codes)

  Date.prototype.addDays = function(days) {
    this.setDate(this.getDate() + parseInt(days));
    return this;
  };

  // Update the current slider value (each time you drag the slider handle)
  slider.oninput = function() {
    var now_date=new Date('3/24/2020').addDays(this.value);
    var month=now_date.getMonth()+1;
    var day=now_date.getDate();
    var year=now_date.getYear();
    slider_output.innerHTML=month+"/"+day+"/"+year;
    simplemaps_statemap_mapdata.state_specific["34001"]["description"]="hello"+this.value
    simplemaps_statemap.refresh()
  }


  
</script>
</html>